<div class="pedidos-container">
  <h1>Meus Pedidos</h1>

  <div *ngIf="loading">
    <p>Carregando seus pedidos...</p>
  </div>

  <div *ngIf="!loading && pedidos.length > 0; else noPedidos">
    <div *ngFor="let pedido of pedidos" class="pedido-item">
      <h3>Pedido #{{ pedido.id_pedido || pedido.id || pedido.order_id }}</h3>
      <p><strong>Data:</strong> {{ pedido.data_pedido | date: 'dd/MM/yyyy' }}</p>
      <p><strong>Status:</strong>
        <span class="status-badge" [ngClass]="badgeClass(pedido)">
          {{ getFriendlyLabel(pedido) || 'desconhecido' }}
        </span>
      </p>
      <p><strong>Valor Total:</strong> {{ pedido.displayTotal || 'R$ —' }}</p>
      <a [routerLink]="['/pedido', pedido.id_pedido]" [state]="{ pedido: pedido }">Ver Detalhes</a>
    </div>
  </div>

  <ng-template #noPedidos>
    <p>Você ainda não fez nenhum pedido.</p>
  </ng-template>
</div>