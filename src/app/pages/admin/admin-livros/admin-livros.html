<div class="admin-container">
  <h2>Painel de Admin - Cadastrar Novo Livro no Catálogo</h2>
  
  <form [formGroup]="livroForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="titulo">Título</label>
      <input id="titulo" type="text" formControlName="titulo">
    </div>
    <div class="form-group">
      <label for="isbn">ISBN</label>
      <input id="isbn" type="text" formControlName="isbn">
    </div>
<div class="form-group">
  <label for="editora">Editora</label>
  <input id="editora" type="text" formControlName="editora">
</div>
    <div class="form-group">
      <label for="ano_publicacao">Ano de Publicação</label>
      <input id="ano_publicacao" type="number" formControlName="ano_publicacao">
    </div>
    <div class="form-group">
      <label for="capa_url">URL da Capa</label>
      <input id="capa_url" type="text" formControlName="capa_url">
    </div>
    <div class="form-group">
      <label>OU Anexar Imagem da Capa</label>
      <div class="file-upload-container">
        <input 
          type="file" 
          id="file-input" 
          (change)="onFileSelected($event)" 
          accept="image/*"
          #fileInput>
        <label for="file-input" class="file-label">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 4V20M12 4L8 8M12 4L16 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M4 17V19C4 20.1046 4.89543 21 6 21H18C19.1046 21 20 20.1046 20 19V17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          {{ selectedFileName || 'Escolher arquivo' }}
        </label>
        <button type="button" *ngIf="selectedFile" (click)="clearFile()" class="btn-clear-file">✕</button>
      </div>
      <div *ngIf="imagePreview" class="image-preview">
        <img [src]="imagePreview" alt="Preview da capa">
      </div>
      <small class="hint">Formatos aceitos: JPG, PNG, GIF (máx. 5MB)</small>
    </div>
    <div class="form-group">
      <label for="sinopse">Sinopse</label>
      <textarea id="sinopse" formControlName="sinopse" rows="4"></textarea>
    </div>
    <button type="submit" [disabled]="livroForm.invalid">Cadastrar Livro</button>
  </form>

  <div *ngIf="mensagemSucesso" class="mensagem-sucesso">
    {{ mensagemSucesso }}
  </div>
</div>

<!-- Avaliações movidas para a aba 'Avaliações' para manter a tela de cadastro limpa -->
